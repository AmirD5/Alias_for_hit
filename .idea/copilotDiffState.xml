<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/hit/aliasgameapp/util/LocaleHelper.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/hit/aliasgameapp/util/LocaleHelper.kt" />
              <option name="originalContent" value="package com.hit.aliasgameapp.util&#10;&#10;import android.content.Context&#10;import android.content.SharedPreferences&#10;import android.os.Build&#10;import java.util.Locale&#10;&#10;object LocaleHelper {&#10;    private const val PREFS_NAME = &quot;language_prefs&quot;&#10;    private const val KEY_LANGUAGE = &quot;selected_language&quot;&#10;    private const val DEFAULT_LANGUAGE = &quot;en&quot; // English as default&#10;&#10;    /**&#10;     * Set the app locale&#10;     */&#10;    fun setLocale(context: Context, languageCode: String): Context {&#10;        saveLanguage(context, languageCode)&#10;        return updateResources(context, languageCode)&#10;    }&#10;&#10;    /**&#10;     * Get the saved language preference&#10;     */&#10;    fun getLanguage(context: Context): String {&#10;        val prefs: SharedPreferences = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE)&#10;        return prefs.getString(KEY_LANGUAGE, DEFAULT_LANGUAGE) ?: DEFAULT_LANGUAGE&#10;    }&#10;&#10;    /**&#10;     * Save language preference&#10;     */&#10;    private fun saveLanguage(context: Context, languageCode: String) {&#10;        val prefs: SharedPreferences = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE)&#10;        prefs.edit().putString(KEY_LANGUAGE, languageCode).apply()&#10;    }&#10;&#10;    /**&#10;     * Update the app resources with the selected locale&#10;     */&#10;    private fun updateResources(context: Context, languageCode: String): Context {&#10;        val locale = Locale(languageCode)&#10;        Locale.setDefault(locale)&#10;&#10;        val config = context.resources.configuration&#10;        config.setLocale(locale)&#10;&#10;        return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {&#10;            context.createConfigurationContext(config)&#10;        } else {&#10;            @Suppress(&quot;DEPRECATION&quot;)&#10;            context.resources.updateConfiguration(config, context.resources.displayMetrics)&#10;            context&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.hit.aliasgameapp.util&#10;&#10;import android.content.Context&#10;import android.content.SharedPreferences&#10;import androidx.core.content.edit&#10;import java.util.Locale&#10;&#10;object LocaleHelper {&#10;    private const val PREFS_NAME = &quot;language_prefs&quot;&#10;    private const val KEY_LANGUAGE = &quot;selected_language&quot;&#10;    private const val DEFAULT_LANGUAGE = &quot;en&quot; // English as default&#10;&#10;    /**&#10;     * Set the app locale&#10;     */&#10;    fun setLocale(context: Context, languageCode: String): Context {&#10;        saveLanguage(context, languageCode)&#10;        return updateResources(context, languageCode)&#10;    }&#10;&#10;    /**&#10;     * Get the saved language preference&#10;     */&#10;    fun getLanguage(context: Context): String {&#10;        val prefs: SharedPreferences = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE)&#10;        return prefs.getString(KEY_LANGUAGE, DEFAULT_LANGUAGE) ?: DEFAULT_LANGUAGE&#10;    }&#10;&#10;    /**&#10;     * Toggle between supported languages (English and Hebrew)&#10;     */&#10;    fun toggleLanguage(context: Context): String {&#10;        val currentLanguage = getLanguage(context)&#10;        val newLanguage = when (currentLanguage) {&#10;            &quot;en&quot; -&gt; &quot;he&quot; // Switch from English to Hebrew&#10;            &quot;he&quot; -&gt; &quot;en&quot; // Switch from Hebrew to English&#10;            else -&gt; &quot;en&quot; // Default to English&#10;        }&#10;        setLocale(context, newLanguage)&#10;        return newLanguage&#10;    }&#10;&#10;    /**&#10;     * Save language preference&#10;     */&#10;    private fun saveLanguage(context: Context, languageCode: String) {&#10;        val prefs: SharedPreferences = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE)&#10;        prefs.edit {&#10;            putString(KEY_LANGUAGE, languageCode)&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Update the app resources with the selected locale&#10;     */&#10;    private fun updateResources(context: Context, languageCode: String): Context {&#10;        val locale = Locale.forLanguageTag(languageCode)&#10;        Locale.setDefault(locale)&#10;&#10;        val config = context.resources.configuration&#10;        config.setLocale(locale)&#10;&#10;        return context.createConfigurationContext(config)&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>